var JSTween=function(d){var l=/[\-]{0,1}[0-9\.]{1,}|#[0-9\.abcdef]{3,6}/gi,q=/[pxemtcin%]{1,2}|deg/gi,g=/[0-9\.\-]{1,}/gi,t=/[0-9a-f]{3,6}/gi,b=/^#/,p=/^[0-9\.\-]{1,}([pxemtcin%]{1,2}|deg)$/,E=/^rgb\(/,B=/^scroll/,C=/-([a-z])/ig,F=/^-ms/ig,n={opacity:["opacity","-moz-opacity","filter"],shadow:["box-shadow","-moz-box-shadow","-o-box-shadow","-ms-box-shadow","-webkit-box-shadow"],transform:["-moz-transform","transform","-o-transform","-ms-transform","-webkit-transform"],transformOrigin:["-moz-transform-origin",
"transform-origin","-o-transform-origin","-ms-transform-origin","-webkit-transform-origin"],borderRadius:["-moz-border-radius","border-radius","-webkit-border-radius"],borderRadiusTopLeft:["-moz-border-radius-topleft","border-top-left-radius","-webkit-border-top-left-radius"],borderRadiusTopRight:["-moz-border-radius-topright","border-top-right-radius","-webkit-border-top-right-radius"],borderRadiusBottomLeft:["-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-bottom-left-radius"],
borderRadiusBottomRight:["-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-right-radius"],backgroundSize:["background-size","-moz-background-size","-o-background-size","-webkit-background-size"]},m={},r=[],w=0,O=0,I=!1,G=!1,aa=0,s={},ha=/iPad/i.test(navigator.userAgent)||/iPhone OS/i.test(navigator.userAgent),ja=function(){var a=jQuery.fn;jQuery.JSTween=d;a.tween=function(a){var c,e=this.length;for(c=0;c<e;c++)ba(this[c],a);return this};jQuery.framerate=function(a){M(a)};
jQuery.play=function(a){J(a)};jQuery.clear=function(a,c){P(a,c)};a.play=function(a){J(a);return this};a.clear=function(a){var c,e=this.length;for(c=0;c<e;c++)P(this[c],a);return this};a.property=function(a){var c=[],e,b=this.length;for(e=0;e<b;e++)c.push(Q(this[e],a));return 1===c.length?c[0]:c};a.opacity=function(a){var c,e=this.length;for(c=0;c<e;c++)R(this[c],a);return this};a.alpha=a.opacity;a.transparency=a.opacity;a.rotate=function(a){var c,e=this.length;for(c=0;c<e;c++)S(this[c],a);return this};
a.action=function(a,c,e,b){var f,k,d=this.length,E={};if("object"===typeof a){for(f in a)a.hasOwnProperty(f)&&"string"===typeof a[f]&&(p.test(a[f])?E[f]={value:parseFloat(a[f].match(g)[0],10),units:a[f].match(q)[0]}:E[f]={value:a[f],units:void 0});for(k=0;k<d;k++)for(f in a=jQuery.JSTween.register(this[k]),E)E.hasOwnProperty(f)&&jQuery.JSTween.action(a,f,E[f].value,E[f].units,void 0,!0)}else for(k=0;k<d;k++)T(U(this[k]),a,c,e,b,!0);return this};a.state=function(a){if(0<this.length&&void 0!==this[0].__animate){if(void 0!==
a&&void 0!==this[0].__animate.state[a])return this[0].__animate.state[a];if(void 0===a)return this[0].__animate.state}};a.transform=function(a){var c,e=this.length;for(c=0;c<e;c++)V(this[c],a);return this};a.transformOrigin=function(a){var c,e=this.length;for(c=0;c<e;c++)W(this[c],a);return this};a.backgroundSize=function(a){var c,e=this.length;for(c=0;c<e;c++)X(this[c],a);return this};a.shadow=function(a){var c,e=this.length;for(c=0;c<e;c++)Y(this[c],a);return this};a.borderRadius=function(a,c){var e,
b=this.length;for(e=0;e<b;e++)Z(this[e],a,c);return this};a.borderRadiusTopRight=function(a,c){var e,b=this.length;for(e=0;e<b;e++)z(this[e],"top","right",a,c);return this};a.borderRadiusTopLeft=function(a,c){var e,b=this.length;for(e=0;e<b;e++)z(this[e],"top","left",a,c);return this};a.borderRadiusBottomRight=function(a,c){var e,b=this.length;for(e=0;e<b;e++)z(this[e],"bottom","right",a,c);return this};a.borderRadiusBottomLeft=function(a,c){var e,b=this.length;for(e=0;e<b;e++)z(this[e],"bottom",
"left",a,c);return this};a.borderRadiusCorner=function(a,c,e,b){var f,k=this.length;for(f=0;f<k;f++)z(this[f],a,c,e,b);return this}},ca=function(a,h){return h.toUpperCase()},M=function(a){if(!a)return s.frameRate;s.frameRate=a||45;s.frameDelay=Math.round(1E3/s.frameRate);s.frameLength=1/s.frameRate;return s.frameRate},Q=function(a,h){return void 0!==a.__animate?void 0===h?a.__animate.state:a.__animate.state[h]?a.__animate.state[h]:!1:!1},da=function(a){return void 0===a.tagName&&(void 0!==a.scroll||
void 0!==a.scrollTo)?jQuery(a).scrollLeft()+"px "+jQuery(a).scrollTop()+"px":a.scrollLeft+"px "+a.scrollTop+"px"},D=function(a,h){return"function"===typeof a?a():void 0!==a?a:h},ea=function(a){var h=a.match(l);a=a.split(l);var c,e=h.length;for(c=0;c<e;c++)if(b.test(h[c])){var ia=h,f=c,k;k=h[c].match(t)[0];k=3===k.length?[16*parseInt(k.substr(0,1),16),16*parseInt(k.substr(1,1),16),16*parseInt(k.substr(2,1),16)]:[parseInt(k.substr(0,2),16),parseInt(k.substr(2,2),16),parseInt(k.substr(4,2),16)];ia[f]=
k}else h[c]=parseFloat(h[c].match(g)[0],10);return{value:h,delimiter:a}},ba=function(a,h){var c=U(a),e=0,b=0,f={},k,d;for(k in h)if(h.hasOwnProperty(k)&&"onStart"!==k&&"onStop"!==k&&"onFrame"!==k){f[k]={};if(void 0===h[k].start){var e=a,b=k,p=h[k].stop,m=Q(e,b),n=void 0,l=void 0;d=void 0;if(!1!==m&&!B.test(b))d={value:m.value,units:e.__animate.state[b].units};else{switch(b){case "transform":case "transformOrigin":case "shadow":case "boxShadow":case "backgroundSize":l=p;break;case "opacity":case "transparency":case "alpha":l=
100;break;case "scrollLeft":case "scrollTop":case "scroll":case "scrollTo":l=da(e,b,p);break;default:void 0!==window.getComputedStyle?n=window.getComputedStyle(e,null)[b]:void 0!==e.currentStyle&&(n=e.currentStyle[b]),"auto"===n||void 0===n||""===n?(l=0,d="px"):E.test(n)?(e=n.match(g),m=p=b=void 0,b=parseInt(e[0],10).toString(16),1===b.length&&(b="0"+b),p=parseInt(e[1],10).toString(16),1===p.length&&(p="0"+p),m=parseInt(e[2],10).toString(16),1===m.length&&(m="0"+m),l="#"+b+p+m):(l=parseFloat(n.match(g),
10),d=n.match(q))}d={value:l,units:d}}f[k].start=d.value}else f[k].start=D(h[k].start);f[k].stop=D(h[k].stop,1);f[k].duration=D(h[k].duration||f[k].dur,1);f[k].time=D(h[k].time,0);f[k].merge=D(h[k].merge,!1);f[k].effect=D(h[k].effect,"linear");f[k].framerate=D(h[k].framerate,s.frameRate);f[k].units=D(h[k].units,d?d.units:"px");f[k].end=D(h[k].end,f[k].time+f[k].duration);B.test(k)&&("number"===typeof f[k].start&&(f[k].start=f[k].start+"px "+f[k].start+"px"),"number"===typeof f[k].stop&&(f[k].stop=
f[k].stop+"px "+f[k].stop+"px"));f[k].callback={onStart:h[k].onStart,onFrame:h[k].onFrame,onStop:h[k].onStop}}var v;k=d=0;for(var r in f)f.hasOwnProperty(r)&&f[r].end>k&&(k=f[r].end);d=k;for(r in f)f.hasOwnProperty(r)&&f[r].time<d&&(d=f[r].time);for(v in f)if(f.hasOwnProperty(v)){if("string"===typeof f[v].start){r=c;for(var e=v,b=f[v],x=void 0,p=ea(b.start),m=ea(b.stop),C=x=l=n=void 0,u=s.frameLength,z=b.end,x=C=Math.round(s.frameRate/b.framerate-1),n=b.time;n<z;n+=u)if(l=w+Math.round(n*s.frameRate),
0===x){for(var x=p,F=m,t=b,G=n,I=b.end,H="",N="",y=void 0,K=void 0,M=x.value.length,J=0,y=0;y<M;y++)if("object"===typeof x.value[y]&&void 0!==x.value[y].length){H+=x.delimiter[y]+"#";J=x.value[y].length;for(K=0;K<J;K++)N=Math.round(L[t.effect](G-t.time,x.value[y][K],F.value[y][K]-x.value[y][K],I-t.time),10).toString(16),1===N.length&&(N="0"+N),H+=N}else H+=x.delimiter[y]+L[t.effect](G-t.time,x.value[y],F.value[y]-x.value[y],I-t.time);x=H+x.delimiter[x.delimiter.length-1];A(l,r,e,x,b.units,!1,!1);
x=C}else A(l,r,e),x--;l=w+Math.round(b.end*s.frameRate);A(l,r,e,b.stop,b.units,!1,!0)}else{r=c;e=v;b=f[v];n=u=m=p=u=void 0;l=s.frameLength;C=b.end;u=n=Math.round(s.frameRate/b.framerate-1);for(p=b.time;p<C;p+=l)m=w+Math.round(p*s.frameRate),0===u?(u=L[b.effect](p-b.time,b.start,b.stop-b.start,b.end-b.time),A(m,r,e,u,b.units,!1,!1),u=n):(A(m,r,e),u--);m=w+Math.round(b.end*s.frameRate);A(m,r,e,b.stop,b.units,!1,!0)}"function"===typeof f[v].callback.onStart&&(r=w+Math.round(f[v].time*s.frameRate),A(r,
c,v,!1,!1,f[v].callback.onStart,!0));if("function"===typeof f[v].callback.onFrame)for(b=f[v].time;b<f[v].end;b+=s.frameLength)e=w+Math.round(b*s.frameRate),A(e,c,v,!1,!1,f[v].callback.onFrame,!0);"function"===typeof f[v].callback.onStop&&(r=w+Math.round(f[v].end*s.frameRate),A(r,c,v,!1,!1,f[v].callback.onStop,!0));e=w+Math.round(f[v].end*s.frameRate);e>O&&(O=e)}"function"===typeof h.onStart&&(f=w+Math.round(d*s.frameRate),A(f,c,"callback",!1,!1,h.onStart,!0));if("function"===typeof h.onFrame)for(f=
w+Math.round(d*s.frameRate);f<=w+Math.round(k*s.frameRate);f++)A(f,c,"callback",!1,!1,h.onFrame,!0);"function"===typeof h.onStop&&(f=w+Math.round(k*s.frameRate),A(f,c,"callback",!1,!1,h.onStop,!0))},A=function(a,h,c,e,b,f,d){void 0!==h?(void 0===m[a]?(m[a]={},m[a][h]={},m[a][h][c]={value:e,units:b,callback:[],skip:d}):void 0===m[a][h]?(m[a][h]={},m[a][h][c]={value:e,units:b,callback:[],skip:d}):void 0===m[a][h][c]?m[a][h][c]={value:e,units:b,callback:[],skip:d}:(!1!==e&&(m[a][h][c].value=e),!1!==
b&&(m[a][h][c].units=b),m[a][h][c].skip=d),"function"===typeof f&&m[a][h][c].callback.push(f)):void 0===m[a]&&(m[a]={})},J=function(a){!1===I&&(I=!0,aa=(new Date).getTime(),G=a,fa())},P=function(a,h){var c;if(void 0!==a&&void 0!==h&&void 0!==a.__animate)for(c in m)m.hasOwnProperty(c)&&(void 0!==m[c][a.__animate.id]&&void 0!==m[c][a.__animate.id][h])&&delete m[c][a.__animate.id][h];else if(void 0!==a&&void 0!==a.__animate)for(c in m)m.hasOwnProperty(c)&&void 0!==m[c][a.__animate.id]&&delete m[c][a.__animate.id];
else for(c in m)m.hasOwnProperty(c)&&delete m[c]},fa=function(){var a,h,c,e;if(w<=O){e=s.frameDelay-((new Date).getTime()-aa-w*s.frameDelay);0>e?e=0:e>s.frameDelay&&(e=s.frameDelay);setTimeout(function(){fa(e?!0:!1)},e);for(h in m[w])if(m[w].hasOwnProperty(h))for(c in a=m[w][h],a)a.hasOwnProperty(c)&&T(h,c,a[c].value,a[c].units,a[c].callback,!0===a[c].skip?!0:e?!0:!1);delete m[w];w++;(new Date).getTime()}else I=!1,w=0,"function"===typeof G&&(G(),G=!1)},T=function(a,h,c,e,b,f){var d=r[a].__animate.state[h];
if(!0===f&&!1!==c&&(void 0===d||d.value!=c||d.units!=e))switch(h){case "zIndex":r[a].style.zIndex=c;break;case "alpha":case "transparency":case "opacity":R(r[a],c);break;case "scroll":case "scrollTop":case "scrollLeft":case "scrollTo":ga(r[a],h,c);break;case "shadow":case "boxShadow":Y(r[a],c);break;case "rotate":S(r[a],c);break;case "transformOrigin":W(r[a],c);break;case "transform":V(r[a],c);break;case "backgroundSize":X(r[a],c);break;case "borderRadius":Z(r[a],c,e);break;case "borderRadiusTopRight":z(r[a],
"top","right",c,e);break;case "borderRadiusTopLeft":z(r[a],"top","left",c,e);break;case "borderRadiusBottomRight":z(r[a],"bottom","right",c,e);break;case "borderRadiusBottomLeft":z(r[a],"bottom","left",c,e);break;default:r[a].style[h]="string"===typeof c?c:c+e}r[a].__animate.state[h]={value:c,units:e};if(void 0!==b&&0<b.length)for(f=0;f<b.length;f++)if("function"===typeof b[f])b[f](r[a],{type:h,value:c,units:e,id:a})},ga=function(a,h,c){void 0===a.tagName&&("function"===typeof a.scroll||"function"===
typeof a.scrollTo)&&"string"===typeof c?(c=c.match(g))&&(self.pageYOffset?window.scroll(parseInt(c[0],10),parseInt(c[1],10)):document.documentElement&&document.documentElement.scrollTop?window.scrollTo(parseInt(c[0],10),parseInt(c[1],10)):document.body&&window.scrollTo(parseInt(c[0],10),parseInt(c[1],10))):(c="string"===typeof c?c.match(g):[c,c],"scrollTop"===h?a.scrollTop=parseInt(c[1],10):"scrollLeft"===h?a.scrollLeft=parseInt(c[0],10):(a.scrollLeft=parseInt(c[0],10),a.scrollTop=parseInt(c[1],10)))},
u=function(a,h,c,e){a.style[h]=c+(e?e:"")},R=function(a,h){"filter"===n.opacity?u(a,"filter","alpha(opacity\x3d"+h+")"):u(a,n.opacity,h/100)},Y=function(a,h){u(a,n.shadow,h)},S=function(a,h){u(a,n.transform,"rotate("+h+"deg)")},V=function(a,h){u(a,n.transform,h)},X=function(a,h){u(a,n.backgroundSize,h)},W=function(a,h){u(a,n.transformOrigin,h)},Z=function(a,h,c){u(a,n.borderRadius,h,c)},z=function(a,h,c,e,b){"top"===h?"left"===c?u(a,n.borderRadiusTopLeft,e,b):u(a,n.borderRadiusTopRight,e,b):"left"===
c?u(a,n.borderRadiusBottomLeft,e,b):u(a,n.borderRadiusBottomRight,e,b)},U=function(a){if(void 0===a.__animate){var h=r.length;a.__animate={id:h,state:{},callback:{},dragging:!1};r.push(a);return h}return a.__animate.id},L={linear:function(a,h,c,b){return c*a/b+h},quadIn:function(a,b,c,e){return c*(a/=e)*a+b},quadOut:function(a,b,c,e){return-c*(a/=e)*(a-2)+b},quadInOut:function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},cubicIn:function(a,b,c,e){return c*(a/=e)*a*a+b},cubicOut:function(a,
b,c,e){return c*((a=a/e-1)*a*a+1)+b},cubicInOut:function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeIn:function(a,b,c,e){return c*(a/=e)*a*a+b},easeOut:function(a,b,c,e){return c*((a=a/e-1)*a*a+1)+b},easeInOut:function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},quartIn:function(a,b,c,e){return c*(a/=e)*a*a*a+b},quartOut:function(a,b,c,e){return-c*((a=a/e-1)*a*a*a-1)+b},quartInOut:function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},quintIn:function(a,
b,c,e){return c*(a/=e)*a*a*a*a+b},quintOut:function(a,b,c,e){return c*((a=a/e-1)*a*a*a*a+1)+b},quintInOut:function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},sineIn:function(a,b,c,e){return-c*Math.cos(a/e*(Math.PI/2))+c+b},sineOut:function(a,b,c,e){return c*Math.sin(a/e*(Math.PI/2))+b},sineInOut:function(a,b,c,e){return-c/2*(Math.cos(Math.PI*a/e)-1)+b},expoIn:function(a,b,c,e){return 0===a?b:c*Math.pow(2,10*(a/e-1))+b},expoOut:function(a,b,c,e){return a===e?b+c:c*(-Math.pow(2,
-10*a/e)+1)+b},expoInOut:function(a,b,c,e){return 0===a?b:a===e?b+c:1>(a/=e/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},circIn:function(a,b,c,e){return-c*(Math.sqrt(1-(a/=e)*a)-1)+b},circOut:function(a,b,c,e){return c*Math.sqrt(1-(a=a/e-1)*a)+b},circInOut:function(a,b,c,e){return 1>(a/=e/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},bounceIn:function(a,b,c,e){return c-L.bounceOut(e-a,0,c,e)+b},bounceOut:function(a,b,c,e){return(a/=e)<1/2.75?c*7.5625*a*a+b:a<2/2.75?
c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},bounceInOut:function(a,b,c,e){return a<e/2?0.5*L.bounceIn(2*a,0,c,e)+b:0.5*L.bounceOut(2*a-e,0,c,e)+0.5*c+b},elasticIn:function(a,b,c,e,d,f){if(0===a)return b;if(1===(a/=e))return b+c;f||(f=0.3*e);d||(d=1);var p=0;d<Math.abs(c)?(d=c,p=f/4):p=f/(2*Math.PI)*Math.asin(c/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin((a*e-p)*2*Math.PI/f))+b},elasticOut:function(a,b,c,e,d,f){if(0===a)return b;
if(1===(a/=e))return b+c;f||(f=0.3*e);d||(d=1);var p=0;d<Math.abs(c)?(d=c,p=f/4):p=f/(2*Math.PI)*Math.asin(c/d);return d*Math.pow(2,-10*a)*Math.sin((a*e-p)*2*Math.PI/f)+c+b},elasticInOut:function(a,b,c,e,d,f){if(0===a)return b;if(2===(a/=e/2))return b+c;f||(f=e*0.3*1.5);d||(d=1);var p=0;d<Math.abs(c)?(d=c,p=f/4):p=f/(2*Math.PI)*Math.asin(c/d);return 1>a?-0.5*d*Math.pow(2,10*(a-=1))*Math.sin((a*e-p)*2*Math.PI/f)+b:0.5*d*Math.pow(2,-10*(a-=1))*Math.sin((a*e-p)*2*Math.PI/f)+c+b}};d.tween=ba;d.action=
T;d.register=U;d.shadow=Y;d.opacity=R;d.borderRadius=Z;d.borderRadiusCorner=z;d.backgroundSize=X;d.transformOrigin=W;d.rotate=S;d.transform=V;d.clear=P;d.play=J;d.property=Q;d.getScroll=da;d.scroll=ga;d.framerate=M;M(ha?30:45);(function(){var a=document.getElementsByTagName("html"),b;if(void 0!==a[0])for(b in a=a[0].style,n)if(n.hasOwnProperty(b))for(var c=0;c<n[b].length;c++)if(void 0!==a[n[b][c]]){n[b]=n[b][c];break}else if(void 0!==a[n[b][c].replace(F,"ms").replace(C,ca)]){n[b]=n[b][c].replace(F,
"ms").replace(C,ca);break}})();try{ja()}catch(ka){}return d}(JSTween||{});(function(d,l,q){function g(b,d){this.element=b;this.layers=b.getElementsByClassName("layer");var g={calibrateX:this.data(this.element,"calibrate-x"),calibrateY:this.data(this.element,"calibrate-y"),invertX:this.data(this.element,"invert-x"),invertY:this.data(this.element,"invert-y"),limitX:this.data(this.element,"limit-x"),limitY:this.data(this.element,"limit-y"),scalarX:this.data(this.element,"scalar-x"),scalarY:this.data(this.element,"scalar-y"),frictionX:this.data(this.element,"friction-x"),frictionY:this.data(this.element,
"friction-y"),originX:this.data(this.element,"origin-x"),originY:this.data(this.element,"origin-y")},l;for(l in g)null===g[l]&&delete g[l];this.extend(this,t,d,g);this.calibrationTimer=null;this.calibrationFlag=!0;this.enabled=!1;this.depths=[];this.bounds=this.raf=null;this.vy=this.vx=this.my=this.mx=this.iy=this.ix=this.cy=this.cx=this.ery=this.erx=this.ecy=this.ecx=this.eh=this.ew=this.ey=this.ex=0;this.onMouseMove=this.onMouseMove.bind(this);this.onDeviceOrientation=this.onDeviceOrientation.bind(this);
this.onOrientationTimer=this.onOrientationTimer.bind(this);this.onCalibrationTimer=this.onCalibrationTimer.bind(this);this.onAnimationFrame=this.onAnimationFrame.bind(this);this.onWindowResize=this.onWindowResize.bind(this);this.initialise()}var t={relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:0.1,frictionY:0.1,originX:0.5,originY:0.5};g.prototype.extend=
function(){if(1<arguments.length)for(var b=arguments[0],d=1,g=arguments.length;d<g;d++){var l=arguments[d],q;for(q in l)b[q]=l[q]}};g.prototype.data=function(b,d){return this.deserialize(b.getAttribute("data-"+d))};g.prototype.deserialize=function(b){return"true"===b?!0:"false"===b?!1:"null"===b?null:!isNaN(parseFloat(b))&&isFinite(b)?parseFloat(b):b};g.prototype.camelCase=function(b){return b.replace(/-+(.)?/g,function(b,d){return d?d.toUpperCase():""})};g.prototype.transformSupport=function(b){for(var p=
l.createElement("div"),g=!1,B=null,B=!1,C=null,t=null,n=0,m=this.vendors.length;n<m;n++)if(null!==this.vendors[n]?(C=this.vendors[n][0]+"transform",t=this.vendors[n][1]+"Transform"):t=C="transform",p.style[t]!==q){g=!0;break}switch(b){case "2D":B=g;break;case "3D":g&&(b=l.body||l.createElement("body"),g=l.documentElement,n=g.style.overflow,l.body||(g.style.overflow="hidden",g.appendChild(b),b.style.overflow="hidden",b.style.background=""),b.appendChild(p),p.style[t]="translate3d(1px,1px,1px)",B=d.getComputedStyle(p).getPropertyValue(C),
B=B!==q&&0<B.length&&"none"!==B,g.style.overflow=n,b.removeChild(p))}return B};g.prototype.ww=null;g.prototype.wh=null;g.prototype.wcx=null;g.prototype.wcy=null;g.prototype.wrx=null;g.prototype.wry=null;g.prototype.portrait=null;g.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);g.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]];g.prototype.motionSupport=!!d.DeviceMotionEvent;g.prototype.orientationSupport=
!!d.DeviceOrientationEvent;g.prototype.orientationStatus=0;g.prototype.transform2DSupport=g.prototype.transformSupport("2D");g.prototype.transform3DSupport=g.prototype.transformSupport("3D");g.prototype.propertyCache={};g.prototype.initialise=function(){this.transform3DSupport&&this.accelerate(this.element);"static"===d.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative");this.updateLayers();this.updateDimensions();this.enable();this.queueCalibration(this.calibrationDelay)};
g.prototype.updateLayers=function(){this.layers=this.element.getElementsByClassName("layer");this.depths=[];for(var b=0,d=this.layers.length;b<d;b++){var g=this.layers[b];this.transform3DSupport&&this.accelerate(g);g.style.position=b?"absolute":"relative";g.style.display="block";g.style.left=0;g.style.top=0;this.depths.push(this.data(g,"depth")||0)}};g.prototype.updateDimensions=function(){this.ww=d.innerWidth;this.wh=d.innerHeight;this.wcx=this.ww*this.originX;this.wcy=this.wh*this.originY;this.wrx=
Math.max(this.wcx,this.ww-this.wcx);this.wry=Math.max(this.wcy,this.wh-this.wcy)};g.prototype.updateBounds=function(){this.bounds=this.element.getBoundingClientRect();this.ex=this.bounds.left;this.ey=this.bounds.top;this.ew=this.bounds.width;this.eh=this.bounds.height;this.ecx=this.ew*this.originX;this.ecy=this.eh*this.originY;this.erx=Math.max(this.ecx,this.ew-this.ecx);this.ery=Math.max(this.ecy,this.eh-this.ecy)};g.prototype.queueCalibration=function(b){clearTimeout(this.calibrationTimer);this.calibrationTimer=
setTimeout(this.onCalibrationTimer,b)};g.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,d.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cy=this.cx=0,this.portrait=!1,d.addEventListener("mousemove",this.onMouseMove)),d.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))};g.prototype.disable=function(){this.enabled&&(this.enabled=
!1,this.orientationSupport?d.removeEventListener("deviceorientation",this.onDeviceOrientation):d.removeEventListener("mousemove",this.onMouseMove),d.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))};g.prototype.calibrate=function(b,d){this.calibrateX=b===q?this.calibrateX:b;this.calibrateY=d===q?this.calibrateY:d};g.prototype.invert=function(b,d){this.invertX=b===q?this.invertX:b;this.invertY=d===q?this.invertY:d};g.prototype.friction=function(b,d){this.frictionX=
b===q?this.frictionX:b;this.frictionY=d===q?this.frictionY:d};g.prototype.scalar=function(b,d){this.scalarX=b===q?this.scalarX:b;this.scalarY=d===q?this.scalarY:d};g.prototype.limit=function(b,d){this.limitX=b===q?this.limitX:b;this.limitY=d===q?this.limitY:d};g.prototype.origin=function(b,d){this.originX=b===q?this.originX:b;this.originY=d===q?this.originY:d};g.prototype.clamp=function(b,d,g){b=Math.max(b,d);return b=Math.min(b,g)};g.prototype.css=function(b,d,g){var l=this.propertyCache[d];if(!l)for(var t=
0,F=this.vendors.length;t<F;t++)if(l=null!==this.vendors[t]?this.camelCase(this.vendors[t][1]+"-"+d):d,b.style[l]!==q){this.propertyCache[d]=l;break}b.style[l]=g};g.prototype.accelerate=function(b){this.css(b,"transform","translate3d(0,0,0)");this.css(b,"transform-style","preserve-3d");this.css(b,"backface-visibility","hidden")};g.prototype.setPosition=function(b,d,g){d+="px";g+="px";this.transform3DSupport?this.css(b,"transform","translate3d("+d+","+g+",0)"):this.transform2DSupport?this.css(b,"transform",
"translate("+d+","+g+")"):(b.style.left=d,b.style.top=g)};g.prototype.onOrientationTimer=function(b){this.orientationSupport&&0===this.orientationStatus&&(this.disable(),this.orientationSupport=!1,this.enable())};g.prototype.onCalibrationTimer=function(b){this.calibrationFlag=!0};g.prototype.onWindowResize=function(b){this.updateDimensions()};g.prototype.onAnimationFrame=function(){this.updateBounds();var b=this.ix-this.cx,d=this.iy-this.cy;(Math.abs(b)>this.calibrationThreshold||Math.abs(d)>this.calibrationThreshold)&&
this.queueCalibration(0);this.portrait?(this.mx=this.calibrateX?d:this.iy,this.my=this.calibrateY?b:this.ix):(this.mx=this.calibrateX?b:this.ix,this.my=this.calibrateY?d:this.iy);this.mx*=this.ew*(this.scalarX/100);this.my*=this.eh*(this.scalarY/100);isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX));isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY));this.vx+=(this.mx-this.vx)*this.frictionX;this.vy+=(this.my-this.vy)*this.frictionY;
b=0;for(d=this.layers.length;b<d;b++){var g=this.depths[b];this.setPosition(this.layers[b],this.vx*g*(this.invertX?-1:1),this.vy*g*(this.invertY?-1:1))}this.raf=requestAnimationFrame(this.onAnimationFrame)};g.prototype.onDeviceOrientation=function(b){if(!this.desktop&&null!==b.beta&&null!==b.gamma){this.orientationStatus=1;var d=(b.beta||0)/30;b=(b.gamma||0)/30;var g=this.wh>this.ww;this.portrait!==g&&(this.portrait=g,this.calibrationFlag=!0);this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=
d,this.cy=b);this.ix=d;this.iy=b}};g.prototype.onMouseMove=function(b){var d=b.clientX;b=b.clientY;!this.orientationSupport&&this.relativeInput?(this.clipRelativeInput&&(d=Math.max(d,this.ex),d=Math.min(d,this.ex+this.ew),b=Math.max(b,this.ey),b=Math.min(b,this.ey+this.eh)),this.ix=(d-this.ex-this.ecx)/this.erx,this.iy=(b-this.ey-this.ecy)/this.ery):(this.ix=(d-this.wcx)/this.wrx,this.iy=(b-this.wcy)/this.wry)};d.Parallax=g})(window,document);
(function(){for(var d=0,l=["ms","moz","webkit","o"],q=0;q<l.length&&!window.requestAnimationFrame;++q)window.requestAnimationFrame=window[l[q]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[q]+"CancelAnimationFrame"]||window[l[q]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(g,l){var b=(new Date).getTime(),p=Math.max(0,16-(b-d)),q=window.setTimeout(function(){g(b+p)},p);d=b+p;return q});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(d){clearTimeout(d)})})();var sX,sY,sZ,lX,lY,lZ,lUpdate;sX=sY=sZ=lX=lY=lZ=lUpdate=0;
var mDir=1,mSwiper,isOpen,Timer,isOver,mPer=0,StartTime=0,GamePer,GameScore=0,GameCount=0,bagLength=20,bagInfo={bag_1:{x:40,y:544},bag_2:{x:88,y:652},bag_3:{x:98,y:404},bag_4:{x:223,y:674},bag_5:{x:164,y:566},bag_6:{x:166,y:724},bag_7:{x:213,y:440},bag_8:{x:325,y:750},bag_9:{x:337,y:527},bag_10:{x:293,y:420},bag_11:{x:412,y:424},bag_12:{x:456,y:583},bag_13:{x:378,y:645},bag_14:{x:446,y:856},bag_15:{x:386,y:873},bag_16:{x:541,y:805},bag_17:{x:552,y:921},bag_18:{x:541,y:625},bag_19:{x:500,y:454},bag_20:{x:233,
y:771}},isSound;window.onload=init;function init(){isIOS()&&(mDir=-1);isOpen=!1;OnElementFun("Sound_bg",function(){isSound=!0;document.getElementById("Sound_bg").play()});mSwiper=new Swiper(".swiper-container",{direction:"vertical",updateOnImagesReady:!0,onImagesReady:onLoadComplete,noSwiper:!0,followFinger:!0,effect:"fade",fade:{crossFade:!1},noSwiping:!0,onInit:initScene,onSlideChangeStart:onChangeStart});new Parallax(document.getElementById("scene"))}
function onChangeStart(d){swiperAnimateCache(d);swiperAnimate(d);1==d.activeIndex?$("#LeafModule").css({display:"-webkit-box"}):$("#LeafModule").fadeOut();2==d.activeIndex&&$("#TipsModule").css({display:"-webkit-box"})}function onLoadComplete(){$("#LoadModule").fadeOut()}function initScene(d){window.setTimeout(function(){isOpen=!0},2E3);swiperAnimateCache(d);swiperAnimate(d);setArtFont("Txt_per2","font",0);setArtFont("Txt_per1","font",0);setArtFont("Txt_per3","fontR",0);initEvent();initObj()}
function initObj(){for(var d="",l=0;l<bagLength;l++)d+='\x3cimg src\x3d"images/Mc_bag'+Math.ceil(2*Math.random())+'.png" class\x3d"bag Mc_bag'+(l+1)+'" style\x3d"position: absolute;left: '+bagInfo["bag_"+(l+1)].x+"px;bottom: "+bagInfo["bag_"+(l+1)].y+'px;"/\x3e';$("#BagBox").html(d)}function fallObj(d){1>d||d>bagLength||($(".Mc_bag"+d).tween({bottom:{start:bagInfo["bag_"+d].y,stop:-120,time:0,units:"px",duration:2,effect:"quartIn"}}),$.play())}
function updatePre(d){if(!isOver&&!(100==GameScore||100<GameScore))if(GameScore+=d,mPer=Math.floor(100*(GameScore/100))+GamePer,setArtFont("Txt_per3","fontR",mPer),100==mPer||100<mPer)fallObj(Math.ceil(Math.random()*bagLength)),GameOver()}
function onDeviceMotionHandler(d){d=d.accelerationIncludingGravity;var l=(new Date).getTime(),q=l-lUpdate;if(7>Math.abs(d.x)){var g=Math.floor(10*d.x)*mDir;$(".bag").css("-webkit-transform","rotate("+g+"deg)")}100<q&&(lUpdate=l,sX=d.x,sY=d.y,sZ=d.z,500<1E4*((Math.abs(sX-lX)+Math.abs(sY-lY)+Math.abs(sZ-lZ))/q)&&updatePre(1),lX=sX,lY=sY,lZ=sZ)}
function GameStart(){if(isWeixin())window.DeviceMotionEvent?(lUpdate=(new Date).getTime(),window.addEventListener("devicemotion",onDeviceMotionHandler,!1)):alert("\u6539\u8bbe\u5907\u4e0d\u652f\u6301!");else $("#GameModule").on("click",onMenuHandler);GameCount--;GameScore=0;setArtFont("Txt_per3","fontR",GamePer);isOver=!1;StartTime=(new Date).getTime();Timer=window.setInterval(updateTime,20)}
function GameOver(){isOver=!0;window.DeviceMotionEvent&&window.removeEventListener("devicemotion",onDeviceMotionHandler,!1);Timer&&window.clearInterval(Timer);100==mPer?window.setTimeout(function(){$("#OverModule3").css({display:"-webkit-box"})},700):0==GameCount?(setArtFont("Txt_per2","font",mPer),$("#Txt_count2").html(GameCount),$("#Txt_tip2 strong").html(mPer+"%"),$("#OverModule2").css({display:"-webkit-box"})):(setArtFont("Txt_per1","font",mPer),$("#Txt_count1").html(GameCount),$("#OverModule1").css({display:"-webkit-box"}));
onPostData(mPer-GamePer)}function updateTime(){var d=(new Date).getTime(),d=Math.floor((d-StartTime)/1E3);(5==d||5<d)&&GameOver()}
function initEvent(){$("#Btn_start").on("click",onMenuHandler);$("#OpenModule").on("click",onMenuHandler);$("#Btn_rule").on("click",onMenuHandler);$("#RuleModule").on("click",onMenuHandler);$("#Btn_menu1").on("click",onMenuHandler);$("#Btn_menu2").on("click",onMenuHandler);$("#Btn_menu3").on("click",onMenuHandler);$("#Btn_share").on("click",onMenuHandler);$("#ShareModule").on("click",onMenuHandler);$("#Btn_again").on("click",onMenuHandler);$("#PopsModule").on("click",onMenuHandler);$("#Btn_sound").on("click",
onMenuHandler)}
function onMenuHandler(d){switch(d.currentTarget.id){case "Btn_start":$("#TipsModule").fadeOut();GameStart();break;case "OpenModule":isOpen&&($(".l_door").addClass("AniOpenL"),$(".r_door").addClass("AniOpenR"),window.setTimeout(function(){mSwiper.slideNext()},2E3));break;case "Btn_rule":$("#RuleModule").css({display:"-webkit-box"});break;case "RuleModule":$("#RuleModule").fadeOut();break;case "Btn_menu1":onNextPage();break;case "Btn_menu2":onNextPage();break;case "Btn_menu3":onNextPage();break;case "Btn_share":is_show_num=
1;$("#ShareModule").css({display:"-webkit-box"});break;case "ShareModule":is_show_num=0;$("#ShareModule").fadeOut();break;case "Btn_again":$("#OverModule1").fadeOut();GameStart();break;case "GameModule":updatePre(10);break;case "PopsModule":$("#PopsModule").fadeOut();break;case "Btn_sound":isSound?(isSound=!1,$("#Sound_bg")[0].pause(),$("#Btn_sound").removeClass("SoundAni"),$("#Btn_sound").attr({src:"images/Btn_sound2.png"})):(isSound=!0,$("#Sound_bg")[0].play(),$("#Btn_sound").addClass("SoundAni"),
$("#Btn_sound").attr({src:"images/Btn_sound1.png"}))}}function setArtFont(d,l,q){var g="";q=q.toString();for(var t=0;t<q.length;t++)var b=q.substr(t,1),g=g+('\x3cdiv class\x3d"'+l+b+'"\x3e\x3c/div\x3e');$("#"+d).html(g+('\x3cdiv class\x3d"'+l+'10"\x3e\x3c/div\x3e'))}function isWeixin(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?!0:!1}function isIOS(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}
function OnElementFun(d,l){document.getElementById(d).addEventListener("click",function(){l()});var q=document.createEvent("MouseEvents");q.initEvent("click",!0,!0);document.getElementById(d).dispatchEvent(q)};